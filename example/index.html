<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JSGoogleStaticMapMaker</title>
    <!--google chart.js-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="../dist/JSGoogleStaticMapMaker.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script>
        var GKey = 'AIzaSyB6XeHnou8qMVZo2mK0u8UffupNVTP0GPc';
        var maker = new GSMMaker.MapMaker({
            center: new GSMMaker.Location('4611 viking way, richmond'),
            size: {width: 500, height: 400},
            markers: [
                new GSMMaker.GMarker({
                    icon: 'https://goo.gl/1oTJ9Y',
                    anchor: 'center',
                    locations: [
                        new GSMMaker.Location({
                            lat: 49.182760,
                            lng: -123.075259
                        })
                    ]
                }),
                new GSMMaker.GMarker({
                    color: 'blue',
                    label: 'H',
                    size: 'normal',
                    locations: [
                        new GSMMaker.Location({
                            lat: 49.183227,
                            lng: -123.073773
                        })
                    ]
                })
            ],
            paths: [
                new GSMMaker.GPath({
                    weight: 10,
                    color: 'red',
                    fillcolor: 'yellow',
                    geodesic: true,
                    locations: [
                        new GSMMaker.Location({
                            lat: 49.182760,
                            lng: -123.075259
                        }),
                        new GSMMaker.Location({
                            lat: 49.183227,
                            lng: -123.073773
                        }),
                        new GSMMaker.Location({
                            lat: 49.183227,
                            lng: -123.074773
                        }),
                        new GSMMaker.Location({
                            lat: 49.182760,
                            lng: -123.075259
                        }), // same as the first location, to draw a triangle
                    ]
                })
            ]
        }, GKey);

        function test() {
            var url = maker.toString();
            $("#result").val(decodeURI(url));
            $("#image-container").attr('src', url);
        }
    </script>

</head>
<body style="width: 800px; margin: 0 auto;">
<h1>result</h1>
<button onclick="test();">test me</button>
<textarea id="result" style="width: 100%; position: relative; height: 100px; margin: 20px 0;"></textarea>
<img id="image-container" src="" alt="">
</body>
</html>